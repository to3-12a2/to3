<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Minimal Background Hero</title>
  <style>
    /* 1. Tối giản hóa CSS */
    html,body{height:100%;margin:0;}
    /* Loại bỏ màu nền đen vì object-fit: cover đã được dùng */
    .hero{position:relative;height:100vh;overflow:hidden;} 
    
    /* Media base styles: Tràn màn hình (cover) và Canh giữa (50% 50%) */
    .bg-media{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position: 50% 50%;z-index:0;transition:opacity 1s ease-in-out;} 

    /* Slideshow container */
    .bg-slideshow {position: absolute; inset: 0; z-index: 0; opacity: 0; visibility: hidden; pointer-events: none;}
    .bg-slideshow.active {opacity: 1; visibility: visible; pointer-events: auto;}

    /* Từng ảnh trong Slideshow */
    .slideshow-image {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: 50% 50%;
      opacity: 0; 
      transition: opacity 1s ease-in-out;
    }
    .slideshow-image.active {
      opacity: 1; 
    }
    
    /* Ban đầu ẩn video */
    .bg-video{visibility:hidden; opacity: 0;}
    
    /* Lớp phủ mờ */
    .overlay{position:absolute;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.55));z-index:1}

    /* Đảm bảo không còn nội dung nào khác hiển thị */
    .container, footer {display: none !important;}
  </style>
</head>
<body>
  <main class="hero">
    
    <div id="bgSlideshow" class="bg-slideshow">
      <img src="3.jpg" class="slideshow-image" alt="Slideshow Image 1">
      <img src="7.jpg" class="slideshow-image" alt="Slideshow Image 2">
      <img src="11.jpg" class="slideshow-image" alt="Slideshow Image 3">
      <img src="13.jpg" class="slideshow-image" alt="Slideshow Image 4">
      <img src="10.jpg" class="slideshow-image" alt="Slideshow Image 5">
      <img src="5.jpg" class="slideshow-image" alt="Slideshow Image 6">
      <img src="2.jpg" class="slideshow-image" alt="Slideshow Image 7">
      <img src="6.jpg" class="slideshow-image" alt="Slideshow Image 8">
      <img src="4.jpg" class="slideshow-image" alt="Slideshow Image 9">
      <img src="1.jpg" class="slideshow-image" alt="Slideshow Image 10">
    </div>

    <video id="bgVideo" class="bg-media bg-video" playsinline autoplay muted preload="auto">
      <source src="Pokemon.mp4" type="video/mp4">
    </video>

    <div class="overlay"></div>
    
    <div class="container"></div> 
    <footer></footer>
  </main>

  <script>
    // 2. Logic JavaScript (Giữ nguyên phần chuyển đổi tự động)
    const SLIDESHOW_DURATION = 5000;
    let slideshowInterval;
    let currentSlide = 0;

    const video = document.getElementById('bgVideo');
    const slideshowContainer = document.getElementById('bgSlideshow');
    const slides = document.querySelectorAll('.slideshow-image');

    function startSlideshow() {
        video.pause();
        video.style.opacity = 0;
        video.style.visibility = 'hidden';

        slideshowContainer.classList.add('active');
        showSlide(currentSlide);

        slideshowInterval = setInterval(() => {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }, SLIDESHOW_DURATION);
    }

    function showSlide(index) {
        slides.forEach((slide) => {
            slide.classList.remove('active');
        });
        slides[index].classList.add('active');
    }

    function startVideo() {
        clearInterval(slideshowInterval);
        slideshowContainer.classList.remove('active');
        video.style.opacity = 1;
        video.style.visibility = 'visible';
        video.currentTime = 0;
        video.play();
    }

    // Video kết thúc sẽ chuyển sang Slideshow
    video.addEventListener('ended', startSlideshow);
    
    // Fallback nếu video lỗi
    video.addEventListener('error', startSlideshow);

    // Bắt đầu phát video (hoặc slideshow nếu autoplay lỗi)
    window.addEventListener('load', ()=>{
        video.play().then(() => {
            // Autoplay thành công
            video.style.opacity = 1;
            video.style.visibility = 'visible';
        }).catch(() => {
            // Autoplay lỗi: chuyển sang Slideshow ngay
            startSlideshow();
        });
    });
  </script>

</body>
</html>